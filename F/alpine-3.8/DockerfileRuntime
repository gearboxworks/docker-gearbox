
################################################################################
# WARNING: This file has been auto-generated. DO NOT EDIT: WARNING
# Created on 2020-02-18T18:39:32+1100, using template:DockerfileRuntime.tmpl and json:alpine-3.8.json
# Base Reference Docker container for docker-gearbox-base based off alpine:3.8

ARG VERSION=alpine-3.8

# 1. First reference the gearbox-base image.
FROM alpine:3.8
ARG VERSION
# ARG GEARBOX_ENTRYPOINT

# 2. Set up env variables.
MAINTAINER Gearbox Team <team@gearbox.works>
ENV GEARBOX_CONTAINER_NAME "docker-gearbox-base"
ENV GEARBOX_CONTAINER_VERSION ${VERSION}
# ENV GEARBOX_ENTRYPOINT ${GEARBOX_ENTRYPOINT}
LABEL gearbox.json='{"state": "production","organization": "gearboxworks","name": "gearbox-base","maintainer": "Gearbox Team <team@gearbox.works>","version": "alpine-3.8","majorversion": "","latest": "","class": "system","network": "--network gearboxnet","ports": ["22","9970"],"volumes": "","restart": "--restart no","args": "","env": {"GEARBOX_BASE_VERSION": "alpine-3.8","GEARBOX_CONTAINER_NAME": "gearbox-base","GEARBOX_CONTAINER_VERSION": "alpine-3.8","GEARBOX_USER": "gearbox","GEARBOX_UID": "1000","GEARBOX_GROUP": "gearbox","GEARBOX_GID": "1000","http_proxy": "","https_proxy": ""},"ref": "base","refurl": "https://gearboxworks.io/","base": "alpine:3.8"}'
ENV GEARBOX_ARGS ""
ENV GEARBOX_BASE "alpine:3.8"
ENV GEARBOX_CLASS "system"

ENV GEARBOX_LATEST ""
ENV GEARBOX_MAINTAINER "Gearbox Team <team@gearbox.works>"
ENV GEARBOX_MAJORVERSION ""
ENV GEARBOX_NAME "gearbox-base"
ENV GEARBOX_NETWORK "--network gearboxnet"
ENV GEARBOX_ORGANIZATION "gearboxworks"
ENV GEARBOX_PORTS "[22 9970]"
ENV GEARBOX_REF "base"
ENV GEARBOX_REFURL "https://gearboxworks.io/"
ENV GEARBOX_RESTART "--restart no"
ENV GEARBOX_STATE "production"
ENV GEARBOX_VERSION "alpine-3.8"
ENV GEARBOX_VOLUMES ""

ENV GEARBOX_BASE_VERSION "alpine-3.8"
ENV GEARBOX_CONTAINER_NAME "gearbox-base"
ENV GEARBOX_CONTAINER_VERSION "alpine-3.8"
ENV GEARBOX_GID "1000"
ENV GEARBOX_GROUP "gearbox"
ENV GEARBOX_UID "1000"
ENV GEARBOX_USER "gearbox"
ENV HTTP_PROXY ""
ENV HTTPS_PROXY ""


# 3. Now copy the local files specific to this container.
COPY build /etc/gearbox
COPY ${VERSION}/build /etc/gearbox
COPY ${VERSION}/gearbox.json /etc/gearbox/gearbox.json

# 4. Run the base.sh script to set everything up.
RUN /bin/sh /etc/gearbox/build/base.sh

# 6. Expose ports.
EXPOSE 22 9970 
WORKDIR /home/gearbox/projects
USER root

# 7. Run S6 init.
CMD ["/init"]

# END
################################################################################


